% !TEX TS-program = XeLaTeX
% !TEX program = XeLaTeX
%\errorcontextlines 10000

% this is not standalone
% this is latexmlAlts to test if we need alternative latexml commands

\documentclass[10pt]{book}

\input{headers/APEX_format}
\usepackage{headers/apex_style}
\input{headers/Header_Calculus}

\newcommand{\thetitle}{Standalone}

\printallanswers
\printincolor
\usetwoDgraphics
%\usethreeDgraphics

\begin{document}

\frontmatter

%\input{text/front_matter_and_cover}

\mainmatter

\part*{Calculus I}
\ifbool{latexml}{\addcontentsline{toc}{part}{Calculus I}}{}

\apexchapter[text/01_Prerequisite]{Limits}{ch:label}

Some intro stuff.\\
Chapter:\chapterautorefname:\\
Section:\sectionautorefname:\\
Figure:\figureautorefname:\\
Appendix:\appendixname:\\
150.0pt:\the\marginparwidth:\\
5.0pt:\the\defaultaddspace:

\section{The section}

% todo tikz matrices see https://github.com/brucemiller/LaTeXML/issues/794
\begin{tikzpicture}
  \matrix[row sep=1mm,column sep=3mm,ampersand replacement=\&]{
    \&\&\& \node (tp1) {$0$}; \&\& \node (tp2) {$1$}; \&\& \node (tp3) {$2$}; \&\& \node (tp4) {$3$}; \\[-1ex]
    \node(linestart) {$x$}; \&\&\&\&\&\&\&\&\&\&\& \node(lineend) {}; \\[-1ex]
    \&\node (fstart) {$\operatorname{sign}x^{\underline{4}}$}; \& \node {$+$}; \&\& \node {$-$}; \&\& \node {$+$}; \&\& \node {$-$}; \&\& \node {$+$}; \\
  };
  \draw [<->] (linestart.east) -- (lineend);
  \draw (fstart.south west) -- (lineend.west |- fstart.south);
  \draw (fstart.east |- lineend) -- (fstart.east|-fstart.south);
  \foreach \x in {1,2,3,4} {
    \draw (tp\x|-linestart)+(0,5pt) -- (tp\x |- fstart.south);
  }
\end{tikzpicture}

\begin{tikzpicture}
 \matrix[row sep=1mm,column sep=3mm,ampersand replacement=\&]{
  \node(left){L}; \&\&\&\&\&\&\&\&\& \node(right){R}; \\
 };
 \draw[<->](left)--(right);
\end{tikzpicture}

Compare: % see 09_Parametric_Equations.tex
\[
\begin{gathered}\text{Choose}\\t\end{gathered}\quad
\begin{gathered}\nearrow\\\\\searrow\end{gathered}\quad
\begin{gathered}
\text{Use a function}\\f\text{ to find }x\\\bigl(x=f(t)\bigr)\\\\
\text{Use a function}\\g\text{ to find }y\\\bigl(y=g(t)\bigr)
\end{gathered}\quad
\begin{gathered}\searrow\\\\\nearrow\end{gathered}\quad
\begin{gathered}\text{Plot point}\\(x,y)\end{gathered}
\]
to:
\begin{center}
\begin{tikzpicture}[>=latex]
\draw (0,0) node (A) [align=center] {Choose \\$t$} 
      (3,1) node[align=center] (B1) {Use a function\\ $f$ to find $x$\\$\bigl(x=f(t)\bigr)$}
			(3,-1) node[align=center] (B2) {Use a function\\ $g$ to find $y$\\$\bigl(y=g(t)\bigr)$}
			(6.25,0) node [align=center] (C) {Plot point \\ $(x,y)$};
\draw [->](A) --(B1);
\draw [->](A) --(B2);
\draw [->](B1) -- (C);
\draw [->](B2) -- (C);
\end{tikzpicture}
\end{center}

% this works fine; I just want an index to make sure that shows correctly
At one point we define $a_\mathrm{T}$
\index{at@$a_{\mathrm{T}}$}\index{unit tangent vector!at@$a_{\mathrm{T}}$}%

\printexercises{exercises/14-03-exercises}

\appendix

\printsolutions{Standalone Solutions To All Problems}

\printindex

%\backmatter
%
%\input{text/Inside_Cover_Of_The_Text_Material_Complete}

\end{document}
